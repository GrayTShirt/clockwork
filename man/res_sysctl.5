.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RES_SYSCTL 5"
.TH RES_SYSCTL 5 "2014-09-15" "Clockwork v2.3.0" "Clockwork Manual"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
res_sysctl \- Clockwork Resource Type for Kernel Parameters
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The sysctl resource allows administrators to manage kernel and
system parameters that are usually modified through the /proc/sys
virtual mountpoint and /etc/sysctl.conf.
.PP
\&\fBres_sysctl\fR has the advantage of being able to manage only
parts of the /etc/sysctl.conf file, and make changes live to a running
kernel.
.SH "ATTRIBUTES"
.IX Header "ATTRIBUTES"
.IP "\fBname\fR" 4
.IX Item "name"
The name of the kernel parameter in dotted notation, i.e. \fIkernel.printk\fR
.IP "\fBvalue\fR" 4
.IX Item "value"
The value to assign to the kernel parameter.  Clockwork does not
verify or validate this value.  Specifying incorrect values may
render your system unusable, so please be careful.
.IP "\fBpersist\fR" 4
.IX Item "persist"
Whether or not the value should persist across reboots.  Valid
values are \*(L"yes\*(R" and \*(L"no\*(R".  Default value is \*(L"yes\*(R".  If you specify
that the parameter change should not persist, then it will not be
put in the /etc/sysctl.conf file.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.SS "Basic Usage"
.IX Subsection "Basic Usage"
Here are a few examples that will turn on spoof protection
(reverse-path filter) in the kernel's \s-1IP\s0 stack:
.PP
.Vb 2
\&    sysctl "net.ipv4.conf.default.rp_filter" { value: "1" }
\&    sysctl "net.ipv4.conf.all.rp_filter"     { value: "1" }
.Ve
.PP
This example does the same thing, but only for the live kernel.
Changes will be undone after the next reboot:
.PP
.Vb 8
\&    sysctl "net.ipv4.conf.default.rp_filter" {
\&        value:   "1"
\&        persist: "no"
\&    }
\&    sysctl "net.ipv4.conf.all.rp_filter" {
\&        value:   "1"
\&        persist: "no"
\&    }
.Ve
.SH "CAVEATS"
.IX Header "CAVEATS"
.SS "1. Use With \s-1CAUTION\s0"
.IX Subsection "1. Use With CAUTION"
Mucking about with kernel parameters can lead to unusable and
broken systems.  Make sure you research the changes you are making
and understand the consequences.  If possible, use a test server
to stage sysctl changes.
.SS "2. Parameter \fIvalue\fP is Required"
.IX Subsection "2. Parameter value is Required"
It does not make sense to set a kernel parameter without a value.
If you do not specify one with the \fBvalue\fR attribute, Clockwork
will essentially ignore the resource definition.  For example,
the following policy configuration does nothing:
.PP
.Vb 2
\&    # nonsensical
\&    sysctl "kernel.printk" { }
.Ve
.SH "DEPENDENCIES"
.IX Header "DEPENDENCIES"
None.
.SH "AUTHOR"
.IX Header "AUTHOR"
Clockwork was designed and written by James Hunt.
