
  Copyright 2011-2014 James Hunt <james@jameshunt.us>

  This file is part of Clockwork.

  Clockwork is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Clockwork is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Clockwork.  If not, see <http://www.gnu.org/licenses/>.


=head1 NAME

res_sysctl - Clockwork Resource Type for Kernel Parameters

=head1 DESCRIPTION

The sysctl resource allows administrators to manage kernel and
system parameters that are usually modified through the /proc/sys
virtual mountpoint and /etc/sysctl.conf.

B<res_sysctl> has the advantage of being able to manage only
parts of the /etc/sysctl.conf file, and make changes live to a running
kernel.

=head1 ATTRIBUTES

=over

=item B<name>

The name of the kernel parameter in dotted notation, i.e. I<kernel.printk>


=item B<value>

The value to assign to the kernel parameter.  Clockwork does not
verify or validate this value.  Specifying incorrect values may
render your system unusable, so please be careful.

=item B<persist>

Whether or not the value should persist across reboots.  Valid
values are "yes" and "no".  Default value is "yes".  If you specify
that the parameter change should not persist, then it will not be
put in the /etc/sysctl.conf file.

=back

=head1 EXAMPLES

=head2 Basic Usage

Here are a few examples that will turn on spoof protection
(reverse-path filter) in the kernel's IP stack:

    sysctl "net.ipv4.conf.default.rp_filter" { value: "1" }
    sysctl "net.ipv4.conf.all.rp_filter"     { value: "1" }

This example does the same thing, but only for the live kernel.
Changes will be undone after the next reboot:

    sysctl "net.ipv4.conf.default.rp_filter" {
        value:   "1"
        persist: "no"
    }
    sysctl "net.ipv4.conf.all.rp_filter" {
        value:   "1"
        persist: "no"
    }

=head1 CAVEATS

=head2 1. Use With CAUTION

Mucking about with kernel parameters can lead to unusable and
broken systems.  Make sure you research the changes you are making
and understand the consequences.  If possible, use a test server
to stage sysctl changes.

=head2 2. Parameter I<value> is Required

It does not make sense to set a kernel parameter without a value.
If you do not specify one with the B<value> attribute, Clockwork
will essentially ignore the resource definition.  For example,
the following policy configuration does nothing:

    # nonsensical
    sysctl "kernel.printk" { }

=head1 DEPENDENCIES

None.

=head1 AUTHOR

#AUTHOR

=cut
